- https://wiki.teamssix.com/CloudNative/Docker/
## Docker
### Docker是什么
- 客户端
- 容器所在的宿主机
- 镜像仓库


- 区分镜像和容器： 

### 使用和搭建

1. 安装Docker
```bash
curl -fsSL https://get.docker.com/ | sh
docker ps #验证是否安装成功
```

### 如何判断是否在Docker中？

```
1. 查询系统进程的cgroup的信息：
   cat /proc/1/cgroup
2. 检测虚拟化技术指令
   systemd-detect-virt 
3. 查看系统信息
   lscpu | grep "Hypervisor vendor"
4. 看看有没有.dockerenv文件 ⭐
   ls -la /
5. 其余
   $(cat /proc/cmdline} | tr ' ' '\n' | awk -F '=' '/BOOT_IMAGE/{print $2}') | test -e

```


### Docker镜像讲解


#### 容器数据卷
>将宿主机目录/文件挂载到容器内部，实现**宿主机与容器**之间的数据共享和持久化。
```bash
docker run -v /宿主机路径:/容器内路径
```


### 数据卷容器

>一个**专门用于提供数据卷的容器**，其他容器通过 `--volumes-from`挂载该容器的数据卷，实现**容器与容器**之间的数据共享。

```bash
# 1. 创建数据卷容器（通常使用基础镜像如 busybox）
docker create -v /共享数据路径 --name 数据卷容器名 镜像名

# 2. 其他容器挂载该数据卷容器的卷
docker run --volumes-from 数据卷容器名
```
- 多个Mysql同步数据
-  `--volumes-from` 就是实现容器之间的数据卷

### DockerFile
- https://www.runoob.com/docker/docker-dockerfile.html

1. 每个关键字或者说指令都必须是大写字母
2. 执行从上到下的顺序执行
3. `#`表示注释
4. 每一个指令都会创建提交一层镜像层


```bash
# 构建
docker build -t xxx/docker-name . 
```

#### DockerFile指令

![](media/Pasted%20image%2020260109193023.png)  



## 源码的获取 

### Harbor的应用

