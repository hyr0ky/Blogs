
CobaltStrike的内置监听器为Beacon，外置监听器为Foreign。CobaltStrike的Beacon支持异步通信和交互式通信。

点击左上方CobaltStrike选项——>在下拉框中选择 Listeners ——>在下方弹出区域中单击add
```bash
name：为监听器名字，可任意
payload：payload类型
HTTP Hosts: shell反弹的主机，也就是我们kali的ip
HTTP Hosts(Stager): Stager的马请求下载payload的地址
HTTP Port(C2): C2监听的端口
```

![](media/Pasted%20image%2020250804235024.png)  
CobaltStrike4.0目前有以下8种Payload选项，如下：
- 内部的Listener
	- Beacon DNS
	- Beacon HTTP
	- Beacon HTTPS
	- Beacon TCP
	- Beacon SMB
- 外部的Listener
	- Foreign HTTP
	- Foreign HTTPS
- External
	- External C2
Beacon为内置的Listener，即在目标主机执行相应的payload，获取shell到CS上；
其中包含DNS、HTTP、HTTPS、SMB。

Beacon可以选择通过DNS还是HTTP协议出口网络，你可以在使用Beacon通讯过程中切换HTTP和DNS。其支持多主机连接，部署好Beacon后提交一个要连回的域名或主机的列表，Beacon将通过这些主机轮询。

防护团队必须拦截所有的列表中的主机才可中断和其网络的通讯。通过种种方式获取shell以后（比如直接运行生成的exe），就可以使用Beacon了。

Foreign为外部结合的Listener，常用于MSF的结合，例如获取meterpreter到CS上。

