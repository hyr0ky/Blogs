#redteam 
免杀的基本思路
1. 知己知彼

- 编辑器： Visual Studio https://visualstudio.microsoft.com/zh-hans/
	1. 创建新项目 ---> 空项目  ![](media/Pasted%20image%2020250704151247.png)
	2. 源文件 --> 添加新建项 --> Cpp![](media/Pasted%20image%2020250704151336.png)  
## C++基础
### 基础语法规则
```C
1. 对缩进不敏感
2. 以大括号作为代码段分割
3. 必须要有主函数
4. 单行代码结束必须要有分号
5. //是当行注释 ， /**/是多行注释
```

```c++
void main(){
	printf("aaa");
	// 单行注释
	
}
/*
多行注释
*/
```

![](media/Pasted%20image%2020250705210531.png)  

### 数据的存储与读取

- 变量的定义
```C++
(const)变量类型 变量名称(=变量的值)
//括号中的可选项


/*
const 表示定义为静态变量，也就是不能修改的数据，在release版本下会放在rdata
*/

1. 常见的变量类型：
	int 整数
	float 小数
	double 位数多的小数
	
	char 字符（C++里面的字符只能存一个英文字母）
		char a='a';
		char a[]='abcde';
		
	以下是windows.h中常见的变量类型
	BYTE 字节（2位一字节）
	WORD  2字节 --> 4位16进制数
	DWORD 8位4字节
	HANDLE 句柄（带H开头）（指针、权限操作这个东西）
	LPVOID 空指针  a=""

2. 多对象的存取方式
	1. 数组（只有值）（堆栈中存取）
		数组中元素的类型 数组名字[数组中成员的数量]={};
		int a[]={1,2,3,4};
		char b[]="abcdefg";
		// 索引号 ： 从左往右 第一个为0
		count << a[0] <<endl; //a[0] =1;
	2. 结构体（在内存中连续存储）(有名字有值)（结构体是一个类型，要赋值到对象上才能使用）
		struct 车() {
			int 轮胎 = 4;
			int 车门 = 4;
		}
		车 mycar;
		mycar.轮胎=6;

		struct 结构体类型 
		{
			int a = 4;
			char b = 'a';
		}

		结构体类型 结构体的对象;// 结构体里的所有东西都在一段连续的内存空间
		结构体的对象.a=2;

```

### 代码运行结构

#### 顺序结构
- （一行一行运行 从主函数开始）

#### 跳转结构
- 运行到某个地方的时候，越过了某些代码，或者直接跳转到某个指定的地方继续顺序运行

#### 分支结构
1. 单分支结构
```c++
void main() {
	int a =1;
	if (a=1){
		a++;
	}
	else{
		a--;
	}
}
```
2. 多分支机构
```c++
void main(){
	int a=1;
	switch (a)
	{
		case 0: // 根据a的情况进行判断
			a++;
			break;
		case 1:
			a--;
			break;
		case 2:
			a^0xaa;
			break;
		default: //走完了，没有a的情况，默认走到这边
			a=11;
			break;
	}
}
```
#### 循环结构

1. 计数循环:只看计数次数，不看外部条件
```c++
for (size_t i =0;i<6;i++)
	// 计算器的初始化; 执行循环的条件;每一次循环结束之后对于计数器的操作
{
	a[i]++;
}
```
