## Foundry Simple Storge
- https://getfoundry.sh/
- å®ƒåˆ©ç”¨Rustè¿›è¡Œç¼–è¯‘ï¼Œä¸ŽHardhatæˆ–Brownieç­‰æ¡†æž¶ç›¸æ¯”ï¼Œå®ƒæä¾›äº†æ›´å¿«çš„æž„å»ºæ—¶é—´ã€‚
- å®ƒå®Œå…¨åŸºäºŽSolidityï¼Œæ— éœ€å­¦ä¹ å…¶ä»–ç¼–ç¨‹è¯­è¨€
- å®ƒçš„æ–‡ä»¶æ˜¯å…¨é¢çš„ã€‚


### ToolsðŸ”¨
- vscode
- wsl ï¼ˆlinuxçŽ¯å¢ƒï¼‰
- Foundry
	- Foundry æ˜¯ä¸€ä¸ªç”¨äºŽä»¥å¤ªåŠæ™ºèƒ½åˆçº¦çš„å¼€å‘å·¥å…·åŒ…ï¼Œç‰¹åˆ«é€‚åˆç”¨ Solidity ç¼–å†™çš„åˆçº¦ã€‚
	- https://book.getfoundry.sh/getting-started/installation
	- `cast` / `chisel`
	- `curl -L https://foundry.paradigm.xyz | bash`
	- éªŒè¯å®‰è£…ï¼š![](media/Pasted%20image%2020250711200752.png)
	- ä¸ä½¿ç”¨WSLå®‰è£…ï¼šhttps://github.com/foundry-rs/foundry/releases



### Foundry åŸºæœ¬ä½¿ç”¨

#### åŸºç¡€
- åˆå§‹åŒ– `forge init`   ![](media/Pasted%20image%2020250711204407.png)
```bash
libæ˜¯å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™é‡Œæ‚¨ä¼šå‘çŽ°ä»¥ä¸‹å†…å®¹ï¼š
    forge-stdï¼ˆç”¨äºŽæµ‹è¯•å’Œè„šæœ¬çš„forgeåº“ï¼‰
    openzeppelin-contractsæ˜¯ç»è¿‡å®žæˆ˜è€ƒéªŒçš„æ™ºèƒ½åˆçº¦åº“
    ä»¥åŠæ›´å¤šï¼Œå–å†³äºŽæ‚¨éœ€è¦/å®‰è£…çš„å†…å®¹
scriptsæ˜¯ä¸€ä¸ªå­˜æ”¾æ‰€æœ‰è„šæœ¬çš„æ–‡ä»¶å¤¹
srcæ˜¯ä½ æ”¾ç½®æ‰€æœ‰æ™ºèƒ½åˆçº¦çš„æ–‡ä»¶å¤¹
testæ˜¯å­˜æ”¾æ‰€æœ‰æµ‹è¯•çš„æ–‡ä»¶å¤¹
toml -æä¾›Foundryçš„é…ç½®å‚æ•°

- åˆ é™¤Counter.s.solã€Counter.solå’ŒCounter. t. solã€‚è¿™äº›æ–‡ä»¶æ˜¯Foundryåœ¨åˆ›å»ºæ–°çš„Foundryé¡¹ç›®æ—¶é»˜è®¤æä¾›çš„ä¸€ç»„åŸºæœ¬æ™ºèƒ½åˆçº¦ã€‚
```

- Vscode æ‹“å±•
	- https://marketplace.visualstudio.com/items?itemName=JuanBlanco.solidity  ![](media/Pasted%20image%2020250711204958.png) 
	- https://marketplace.visualstudio.com/items?itemName=NomicFoundation.hardhat-solidity   ![](media/Pasted%20image%2020250711205014.png)
	- https://marketplace.visualstudio.com/items?itemName=tintinweb.solidity-visual-auditor  ![](media/Pasted%20image%2020250711205040.png)  
	- https://marketplace.visualstudio.com/items?itemName=tamasfe.even-better-toml  ![](media/Pasted%20image%2020250711205537.png)  
- ç¼–è¯‘åˆçº¦ ï¼š`forge compile`
- éƒ¨ç½²åˆçº¦ï¼š
	1. `anvil`   ![](media/Pasted%20image%2020250711211742.png)
	2. è®¾ç½®æœ¬åœ°Rpcç½‘ç»œ  ![](media/Pasted%20image%2020250711211254.png)
	3. ç§é’¥å¯¼å…¥è´¦æˆ·å³å¯![](media/Pasted%20image%2020250711213143.png)   ![](media/Pasted%20image%2020250711213131.png)
	4. `forge create SimpleStorage --rpc-url http://127.0.0.1:7545 --interactive`  `forge create SimpleStorage --interactive  --broadcast`  ![](media/Pasted%20image%2020250711214026.png)  `--private-key 0xxxxxxxx`

#### é€šè¿‡Scriptéƒ¨ç½²åˆçº¦

```go
// SPDX-License-Identifier: MIT
pragma solidity 0.8.19; // æŒ‡å®šSolidityç¼–è¯‘å™¨ç‰ˆæœ¬

// å¯¼å…¥Foundryçš„Scriptåº“ï¼Œç”¨äºŽç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬
import {Script} from "forge-std/Script.sol";
// å¯¼å…¥æˆ‘ä»¬è‡ªå·±å†™çš„SimpleStorageåˆçº¦
import {SimpleStorage} from "../src/SimpleStorage.sol";

// å®šä¹‰ä¸€ä¸ªåˆçº¦ï¼Œç»§æ‰¿è‡ªScript
contract DeploySimpleStorage is Script {
    // runå‡½æ•°æ˜¯è„šæœ¬çš„å…¥å£ï¼Œä¼šè¢«Foundryè‡ªåŠ¨è°ƒç”¨
    function run() external returns (SimpleStorage) {
        vm.startBroadcast(); // å¼€å§‹å¹¿æ’­äº¤æ˜“ï¼ˆéƒ¨ç½²åˆçº¦ï¼‰ 
        SimpleStorage simpleStorage = new SimpleStorage(); // éƒ¨ç½²SimpleStorageåˆçº¦
        vm.stopBroadcast(); // åœæ­¢å¹¿æ’­äº¤æ˜“
        return simpleStorage; // è¿”å›žæ–°éƒ¨ç½²çš„åˆçº¦åœ°å€
    }
}
```
- `forge-std`ä¹Ÿè¢«ç§°ä¸ºForgeæ ‡å‡†åº“ï¼Œæ˜¯ä¸€ä¸ªé¢„å…ˆç¼–å†™çš„Solidityå¥‘çº¦çš„é›†åˆï¼Œæ—¨åœ¨ç®€åŒ–å’Œå¢žå¼ºFoundryå¼€å‘æ¡†æž¶ä¸­çš„è„šæœ¬å’Œæµ‹è¯•ã€‚
- `vm.startBroadcast`è¡¨ç¤ºè¦å‘é€åˆ°RPC URLçš„äº‹åŠ¡åˆ—è¡¨çš„èµ·å§‹ç‚¹; ç±»ä¼¼åœ°ï¼Œ`vm.stopBroadcast`è¡¨ç¤ºè¦å‘é€åˆ°RPCURLçš„äº‹åŠ¡åˆ—è¡¨çš„ç»“æŸç‚¹;
- ` forge script .\script\D1eploySimpleStorge.s.sol --rpc-url http://127.0.0.1:8545 --broadcast --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`  ![](media/Pasted%20image%2020250712174224.png)  
#### Transactions
> - **äº¤æ˜“â€‹**â€‹: ä»»ä½•é“¾ä¸ŠçŠ¶æ€ä¿®æ”¹ï¼ˆå¦‚è½¬è´¦ã€éƒ¨ç½²åˆçº¦ï¼‰å¿…é¡»é€šè¿‡äº¤æ˜“å®Œæˆã€‚
> - **å…³é”®å­—æ®µâ€‹**â€‹ï¼š`nonce`ï¼ˆäº¤æ˜“åºå·ï¼‰ã€`gas`ï¼ˆç‡ƒæ–™ï¼‰ã€`value`ï¼ˆè½¬è´¦é‡‘é¢ï¼‰ã€`data`ï¼ˆæ•°æ®è½½è·ï¼‰ã€`chainId`ï¼ˆé“¾IDï¼‰åŠåŠ å¯†ç­¾åï¼ˆ`v, r, s`ï¼‰ã€‚
- â€‹**â€‹`broadcast/` æ–‡ä»¶å¤¹â€‹**â€‹ï¼š
    - å­˜å‚¨æ‰€æœ‰åŒºå—é“¾äº¤äº’è®°å½•ï¼ˆå¦‚åˆçº¦éƒ¨ç½²ï¼‰ã€‚
    - æŒ‰ `chainId`ï¼ˆåŒºå—é“¾ç½‘ç»œå”¯ä¸€æ ‡è¯†ç¬¦ï¼‰åˆ†ç±»å­˜å‚¨ã€‚
- â€‹**â€‹`dry-run/` æ–‡ä»¶å¤¹â€‹**â€‹ï¼š
    - ä¿å­˜æ— åŒºå—é“¾è¿è¡Œæ—¶ï¼ˆå¦‚æ¨¡æ‹ŸçŽ¯å¢ƒï¼‰çš„äº¤äº’è®°å½•ã€‚
![](media/Pasted%20image%2020250712222921.png)  

```json
"transaction": {
  "from": "0xf39...266",      // äº¤æ˜“å‘èµ·è€…åœ°å€
  "to": null,                // åˆçº¦éƒ¨ç½²æ—¶å›ºå®šä¸º null
  "gas": "0x714e1",          // æ¶ˆè€—ç‡ƒæ–™é‡ï¼ˆåå…­è¿›åˆ¶ï¼‰
  "value": "0x0",            // è½¬è´¦ ETH æ•°é‡ï¼ˆéƒ¨ç½²æ—¶ä¸º 0ï¼‰
  "input": "0x608060...",    // åˆçº¦å­—èŠ‚ç 
  "nonce": "0x0",            // è´¦æˆ·äº¤æ˜“åºå·ï¼ˆé˜²é‡æ”¾æ”»å‡»ï¼‰
  "chainId": "0x7a69",       // åŒºå—é“¾ç½‘ç»œ IDï¼ˆä¾‹ï¼šæœ¬åœ°æµ‹è¯•é“¾ï¼‰
  "accessList": null,        // å­˜å‚¨è®¿é—®ä¼˜åŒ–æ¸…å•ï¼ˆEIP-2930ï¼‰
  "type": null               // å½“å‰å¯å¿½ç•¥
}
```


#### CaståŸºç¡€ä½¿ç”¨ï¼šä¸Žåˆçº¦è¿›è¡Œäº¤äº’
1. å‘é€äº¤æ˜“
```bash
å…³é”®å‘½ä»¤sendç”¨äºŽç­¾ç½²å¹¶å‘å¸ƒäº¤æ˜“ï¼ˆä½¿ç”¨å¸®åŠ©ï¼šcast send --helpï¼‰
cast send 0x5FbDB...ï¼ˆç›®æ ‡åˆçº¦åœ°å€ï¼‰ "store(uint256)" 1337 \
--rpc-url $RPC_URL \
--private-key $PRIVATE_KEY
```
2. æŸ¥è¯¢æ•°æ®
```bash
- ä½¿ç”¨cast callè¯»å–é“¾ä¸Šæ•°æ®ï¼ˆå¸®åŠ©å‘½ä»¤ï¼šcast call --helpï¼‰
	cast call 0x5FbDB... "retrieve()"
- è¿”å›žåå…­è¿›åˆ¶å€¼ç¤ºä¾‹ï¼š
    0x0000000000000000000000000000539
- æ•°å€¼è½¬æ¢å‘½ä»¤ï¼š
	cast --to-base 0x0000...0539 dec

```

####  æ ¼å¼åŒ–é¡¹ç›®
```bash
forge fmt
forge build   // ç¼–è¯‘åˆçº¦
forge create  // éƒ¨ç½²åˆçº¦åˆ°æµ‹è¯•ç½‘
forge console // ä½¿ç”¨Forgeçš„äº¤äº’å¼æŽ§åˆ¶å°ä¸Žåˆçº¦äº¤äº’
```


#### éªŒè¯åŒºå—é“¾
1. https://sepolia.etherscan.io/address/0x1093560Fe9029c4xxxxx
2. contract --ä¸€å †å­—èŠ‚ç  çœ‹ä¸æ‡‚----> `Verify and Publish`.


### Foundry Zksync ï¼ˆæ²¡çœ‹ï¼‰






## Foundry Fund Me

