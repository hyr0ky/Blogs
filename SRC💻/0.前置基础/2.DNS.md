### **什么是DNS？**  
在上一课中，你已经了解到设备通过IP地址进行通信，但问题是这些IP地址不太容易记忆，而且可能会随时间变化。因此，例如，与其通过访问IP地址`104.21.38.139`来进入HackingHub，你只需输入域名`app.hackinghub.io`，域名会通过其DNS记录转换为正确的IP地址。


---

### **什么是域名？**  
首先，我们来明确什么是域名。任何人都可以通过支付少量费用注册自己的域名。域名可以分为以下三种类型：


#### **1. 顶级域名（Top-Level Domain - TLD）**  
这些是你最常见的域名，例如`.com`、`.net`、`.org`等。然而，为了解决域名短缺问题，后来增加了更多TLD，包括一些不太常见的域名，例如`.biz`、`.club`、`.job`、`.ninja`等。



#### **2. 国家代码顶级域名（Country Code Top-Level Domain - ccTLD）**  
这些域名基于地理位置，例如`.co.uk`代表英国，`.fr`代表法国，`.au`代表澳大利亚等。即使你不住在这些国家，通常也可以注册这些域名。



#### **3. 赞助顶级域名（Sponsored Top-Level Domain - sTLD）**  
这些域名通常受到更多限制，只能由特定机构注册，例如`.edu`（教育机构）、`.gov`（政府机构）、`.mil`（军事机构）等。



---

### **什么是子域名？**  
一旦你注册了一个域名，你就可以创建无限数量的子域名。子域名是位于域名之前并用句点（`.`）分隔的任何文本，也称为**标签**。  
子域名由字母（a-z）、数字（0-9）和连字符（-）组成，最长可达63个字符。子域名还可以包含子域名，但整个域名的总长度不能超过253个字符。


---

### **DNS的工作原理**  
当你请求访问一个网站时，背后会发生许多事情来获取其IP地址：
<!--ID: 1743506670014-->
<!--ID: 1743507089911-->

1. **本地缓存检查**：  
   你的计算机会首先检查本地数据库，看看你是否最近访问过该网站。

2. **向DNS服务器请求**：  
   如果计算机没有记录，它会向IP设置中指定的DNS服务器（通常是你的互联网服务提供商（ISP）的DNS服务器）发送请求。如果使用相同ISP的其他用户最近也请求过该地址，ISP会有记录并立即返回结果。

3. **根域名服务器查询**：  
   如果ISP的DNS服务器也没有记录，它会与互联网的根域名服务器通信，根域名服务器会指向该域名的正确名称服务器。

4. **获取域名记录**：  
   ISP随后连接到该域名的名称服务器，请求域名的记录。名称服务器回复后，结果会返回给客户端，此时客户端就可以与域名进行通信了。

![](media/Icons%20and%20Title%20Slides%20II_1.png)

### **DNS记录类型**  
DNS服务器托管多种记录类型。在上面的例子中，我们希望将域名转换为IPv4地址，这种记录类型称为**A记录**。以下是其他常见的DNS记录类型：
<!--ID: 1743506670019-->
<!--ID: 1743507089915-->

---

#### **1. A记录（A Type）**  
这种记录类型包含一个IPv4地址的响应，例如`1.2.3.4`。
<!--ID: 1743494400590-->


---

#### **2. AAAA记录（AAAA Type）**  
这种记录类型包含一个IPv6地址的响应，适用于支持IPv6的主机。
<!--ID: 1743494400596-->


---

#### **3. MX记录（MX Type）**  
这种记录指示处理该域名邮件的服务器地址。
<!--ID: 1743494400600-->


---

#### **4. CNAME记录（CNAME Type）**  
这种记录指向另一个DNS记录。例如，如果我们的商店由Shopify托管，我们可能有地址`shop.hackinghub.io`，它指向`shops.myshopify.com`，然后Shopify的DNS服务器会处理请求。
<!--ID: 1743494400605-->


---

#### **5. NS记录（NS Type）**  
这种记录指示域名的名称服务器地址。如果子域名需要处理自己的DNS记录，这种记录非常有用，因为它可以指向其他服务器。
<!--ID: 1743494400611-->


---

#### **6. TXT记录（TXT Type）**  
这些记录可以包含文本信息，用途广泛。常见的用途包括：  
- 提供域名所有权的确认信息，用于第三方服务。  
- 防止垃圾邮件（SPAM）。
<!--ID: 1743494400616-->


---

#### **7. PTR记录（PTR Type）**  
PTR记录类似于IP地址的反向查找。通过它可以搜索IP地址并找到与之关联的域名。
<!--ID: 1743494400621-->


---
