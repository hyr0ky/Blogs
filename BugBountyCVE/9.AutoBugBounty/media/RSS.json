{
  "name": "RSS",
  "nodes": [
    {
      "parameters": {
        "content": "## Rssè·å–\n"
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -544,
        -848
      ],
      "typeVersion": 1,
      "id": "b9982e20-e599-4941-aad4-15391a30ce76",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# å®šä¹‰URLåˆ—è¡¨\nurls = [\n    \"https://govuln.com/news/feed/7d0caab64fdec1ca\",  # pç¥ rssè®¢é˜…\n    \"https://morss.it/:items=||*[class=research1_item-large]/https://www.assetnote.io/resources/research\",  # assetnote æœ€æ–°ç ”ç©¶1\n    \"https://morss.it/:proxy:items=||*[class=research1_featured-item%20w-inline-block]/https://www.assetnote.io/resources/research\",  # assetnote æœ€æ–°ç ”ç©¶2\n    \"https://morss.it/:items=||*[class=resources-card-padding-1]/https://www.assetnote.io/resources/research\",\n    \"https://morss.it/:proxy:items=||*[class=blog-article-card%20col-span-1]/https://blog.voorivex.team/newsletter\",  # oauthå¤§æ‰‹å­\n    \"https://morss.it/:proxy:items=||*[class=archive__item]/https://zhero-web-sec.github.io/research-and-things/\"\n]\n\n# å°†URLåˆ—è¡¨è½¬æ¢ä¸ºæ‰€éœ€çš„JSONæ ¼å¼\nresult = [{\"url\": url} for url in urls]\n\n# æ·»åŠ æ–°å­—æ®µ\nfor item in result:\n    item[\"myNewField\"] = 1\n\n# è¿”å›ç»“æœ\nreturn result"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -208,
        -800
      ],
      "id": "fe76c095-2e41-414e-88e8-787629ceba25",
      "name": "Rssæ•°æ®æº"
    },
    {
      "parameters": {
        "url": "={{ $json.url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        16,
        -800
      ],
      "id": "6ee84992-3cce-4c08-8809-af848f23048b",
      "name": "RSS Read"
    },
    {
      "parameters": {
        "operation": "upsert",
        "dataTableId": {
          "__rl": true,
          "value": "asF6NUvTQJqiUdhM",
          "mode": "list",
          "cachedResultName": "RSS",
          "cachedResultUrl": "/projects/i2ey4dzUVbg497kL/datatables/asF6NUvTQJqiUdhM"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "title",
              "keyValue": "={{ $json.title }}"
            },
            {
              "keyName": "link",
              "keyValue": "={{ $json.link }}"
            }
          ]
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "title": "={{ $json.title }}",
            "link": "={{ $json.link }}",
            "summary": "={{$json.summary}}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "title",
              "displayName": "title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "link",
              "displayName": "link",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "summary",
              "displayName": "summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        240,
        -800
      ],
      "id": "2868698d-f3a8-445b-8ba4-164a1d0e0623",
      "name": "æ’å…¥Rss"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "e1adabb3-cd19-432b-b549-19ddce3a7d9e",
              "leftValue": "={{ $json.createdAt }}",
              "rightValue": "={{ $('1 Day').item.json.timestamp }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        464,
        -800
      ],
      "id": "bc8a3f5b-05dc-48f1-b002-50435fcc5a34",
      "name": "æ ¹æ®æ•°æ®åº“Rowåˆ›å»ºæ—¶é—´å’Œè¿è¡Œæ—¶é—´æ¯”è¾ƒåˆ¤æ–­æ˜¯å¦ä¸ºæ–°æ–‡ç« "
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Titleï¼š{{ $json.title }}\nLink:{{ $json.link }}\nSummary:{{ $json.summary }}",
        "options": {
          "systemMessage": "=ä½ æ˜¯ä¸€ä¸ªä¸ºç²¾è‹±æ¼æ´èµé‡‘çŒäººæœåŠ¡çš„ç½‘ç»œå®‰å…¨æƒ…æŠ¥åˆ†æå™¨ã€‚ä½ åˆ†ææ–‡ç« å†…å®¹å¹¶è¿”å›ç»“æ„è‰¯å¥½ã€é€‚ç”¨äºDiscordçš„è¯„ä¼°æŠ¥å‘Šï¼Œé‡ç‚¹çªå‡ºé«˜åˆ©ç”¨ä»·å€¼ã€‚\n\n**è¾“å…¥æ ¼å¼**\nTitle: {{ $json.title }}\nSummary: {{ $json.summary }}\nLink: {{ $json.link }}\n\n**ä½ çš„å·¥ä½œæµç¨‹**\n1. é¦–æ¬¡è¯·æ±‚æ—¶ä½¿ç”¨Toolï¼šHttp Qequestå·¥å…·è¯·æ±‚æ–‡ç« {{ $json.link }} è·å–æ–‡ç« å†…å®¹\n2. æ”¶åˆ°å®Œæ•´æ–‡ç« å†…å®¹åæ ¹æ®Title+Summary+æ–‡ç« å†…å®¹æ‰§è¡Œåˆ†æ\n\n**æ ¸å¿ƒä»»åŠ¡**\nåˆ¤æ–­æ–‡ç« å†…å®¹ä¸æ¼æ´èµé‡‘ç‹©çŒçš„ç›¸å…³æ€§ï¼Œèšç„¦ï¼š\nâœ“ æ˜¯å¦æ­ç¤ºå¯æµ‹è¯•çš„æ”»å‡»å‘é‡\nâœ“ æ˜¯å¦æš´éœ²æ–°å‹æ¼æ´æ¨¡å¼\nâœ“ æ˜¯å¦åŒ…å«å¯å¤ç”¨çš„æµ‹è¯•ç­–ç•¥\nâœ“ æ˜¯å¦å½±å“ä¸»æµèµé‡‘ç›®æ ‡æŠ€æœ¯æ ˆ\n\n**è¾“å‡ºè§„åˆ™**\nâ–¸ æ ¼å¼å¿…é¡»å…¼å®¹Discord Markdown\nâ–¸ æ€»å“åº”ä¸è¶…è¿‡5è¡Œ\nâ–¸ ä½¿ç”¨ç²—ä½“æ ‡è®°å…³é”®æœ¯è¯­ï¼š*æ”»å‡»å‘é‡*\nâ–¸ é“¾æ¥æ ¼å¼ï¼š[æ˜¾ç¤ºæ–‡æœ¬](URL)\nâ–¸ å¯¹ç›¸å…³æ€§ä¿æŒç»å¯¹è¯šå®\n\n**å¿…éœ€è¾“å‡ºæ ¼å¼**\n## Article: [æ ‡é¢˜](æ–‡ç« é“¾æ¥)  \nğŸ¯ æ¼æ´èµé‡‘ç›¸å…³æ€§: é«˜/ä¸­/ä½/æ—   \n\n[1-2è¡Œç²¾å‡†åˆ†æ]\nâ€¢ æ ¸å¿ƒæ¼æ´æ¨¡å¼ï¼ˆåˆ—å‡ºæŠ€æœ¯å˜ä½“ï¼šå¦‚next.js/next_js/next-js/nextjsï¼‰\nâ€¢ å¯æµ‹è¯•æ€§è¯„ä¼°ï¼ˆè¿œç¨‹/æœ¬åœ°/éœ€å‡­è¯ï¼‰  \n\nç­–ç•¥: [å…·ä½“å¯æ“ä½œæµ‹è¯•æ–¹æ³•]\n\n**ç¤ºä¾‹è¾“å‡º**\n## Article: [APIå¯†é’¥æ³„éœ²æ–°è¶‹åŠ¿](https://example.com)  \nğŸ¯ æ¼æ´èµé‡‘ç›¸å…³æ€§: é«˜  \n\nç¬¬ä¸‰æ–¹SDKï¼ˆå˜ä½“ï¼šsdk_provider, sdk-providerï¼‰ç¡¬ç¼–ç å¯†é’¥æ¼æ´ï¼Œå…è®¸æœªæˆæƒè®¿é—®äº‘å­˜å‚¨ï¼ˆAWS S3/Azure Blobï¼‰ã€‚  \n\nç­–ç•¥: æ‰«æJavaScriptæ–‡ä»¶ä¸­çš„æ–°SDKæ¨¡å¼ï¼›æ‰¹é‡æµ‹è¯•*.cloudstorage[.]comå­åŸŸæƒé™  \n\n**ä½ç›¸å…³æ€§ç¤ºä¾‹**  \n## Article: [é˜²ç«å¢™é…ç½®æŒ‡å—](https://example.com)  \nğŸ¯ æ¼æ´èµé‡‘ç›¸å…³æ€§: æ—   \n\nä¼ä¸šç½‘ç»œè®¾å¤‡æ·±åº¦é˜²å¾¡æ–¹æ¡ˆï¼Œéœ€ç‰©ç†è®¿é—®æ§åˆ¶å°ä¸”æ— å¤–éƒ¨æ”»å‡»é¢ã€‚  \n\nç­–ç•¥: è·³è¿‡â€”â€”ä»…é€‚ç”¨äºå†…éƒ¨åŸºç¡€è®¾æ–½åŠ å›º  \n\n**å…³é”®æ€ç»´æ¡†æ¶**\nâ†’ çŒäººèƒ½å¦ç›´æ¥åº”ç”¨æ­¤æ”»å‡»é“¾ï¼Ÿ\nâ†’ æ˜¯å¦æš´éœ²äº†å¸¸è§ç›®æ ‡çš„ç›²ç‚¹ï¼Ÿ\nâ†’ å“ªäº›æµ‹è¯•æ¨¡å—å¯ç§»æ¤åˆ°å…¶ä»–ç›®æ ‡ï¼Ÿ\nâ†’ æ˜¯å¦å€¼å¾—ä¼˜å…ˆç ”ç©¶ï¼Ÿ"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        672,
        -992
      ],
      "id": "80740450-9fac-4064-bc7d-5011f1449fe1",
      "name": "AI Agent",
      "retryOnFail": true,
      "alwaysOutputData": true,
      "waitBetweenTries": 2000
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        672,
        -1216
      ],
      "id": "e4a6db6b-e777-4911-a6e8-970eb2f199d5",
      "name": "DeepSeek Chat Model",
      "credentials": {
        "deepSeekApi": {
          "id": "fTTpviO3hN1GVs4m",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "=å…ˆå¯¹Request_LINK{{$json.link}}è¿›è¡Œè¯·æ±‚ï¼Œç„¶åè®©AIåˆ†ææ–‡ç« å†…å®¹\nMakes an HTTP request and returns the response data",
        "url": "={{ $json.link }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.3,
      "position": [
        816,
        -1216
      ],
      "id": "f71de218-ac01-4ac2-830e-6d9c7f89d328",
      "name": "HTTP Request",
      "notes": "å…ˆå¯¹Request_LINK{{$json.link}}è¿›è¡Œè¯·æ±‚ï¼Œç„¶åç„¶åç»™AIï¼Œç„¶åè®©AIæ ¹æ®Title linke å’Œæ–‡ç« å†…å®¹å’ŒSummaryè¿›è¡Œåˆ†æ\nMakes an HTTP request and returns the response data"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6e67348a-b527-4587-86ff-befb94558a37",
              "leftValue": "={{ $json.output }}",
              "rightValue": "ç›¸å…³æ€§\\**\\s*:\\s*\\**\\s*é«˜",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            },
            {
              "id": "7d9fe2b1-8132-43ae-876c-ab4788aabafb",
              "leftValue": "={{ $json.output }}",
              "rightValue": "ç›¸å…³æ€§\\**\\s*:\\s*\\**\\s*ä¸­",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        992,
        -816
      ],
      "id": "f5e6b90a-9d6f-41cc-9173-ee554b098669",
      "name": "åˆ¤æ–­æ˜¯å¦ä¸ºé«˜ä»·å€¼æ–‡ç« "
    },
    {
      "parameters": {
        "authentication": "webhook",
        "content": "={{ $json.output }}",
        "options": {}
      },
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        1248,
        -928
      ],
      "id": "bc8ef03d-96b0-4830-bbbd-b5093982d1cb",
      "name": "Discord",
      "webhookId": "424b9d74-0b5e-4bc7-8b64-e86aefe5b7a5",
      "retryOnFail": true,
      "credentials": {
        "discordWebhookApi": {
          "id": "VtKUwydqftlEgCSA",
          "name": "Rss"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import re\n\n# Loop over input items and parse the output field into structured data\nfor item in _input.all():\n    output_text = item.json.get(\"output\", \"\")\n    lines = [line.strip() for line in output_text.split('\\n') if line.strip()]\n    \n    # Initialize variables\n    article = \"\"\n    link = \"\"\n    severity = \"\"\n    bounty_relevance = \"\"\n    description = \"\"\n    fingerprint = \"\"\n    \n    # Process each line\n    for i, line in enumerate(lines):\n        # Extract article and link from first line\n        if i == 0 and \"Article:\" in line:\n            # Use regex to extract article title and link\n            article_match = re.search(r'Article:\\s*\\[(.*?)\\]\\((.*?)\\)', line)\n            if article_match:\n                article = article_match.group(1).strip()\n                link = article_match.group(2).strip()\n        \n        # Extract bounty relevance\n        elif \"ğŸ¯\" in line and \"æ¼æ´èµé‡‘ç›¸å…³æ€§:\" in line:\n            # Extract the relevance level (é«˜/ä¸­/ä½)\n            bounty_match = re.search(r'æ¼æ´èµé‡‘ç›¸å…³æ€§:\\s*[*]*\\s*([^\\s*]+)', line)\n            if bounty_match:\n                bounty_relevance = bounty_match.group(1).strip()\n        \n        # Extract description (main content)\n        elif (not line.startswith(\"Article:\") and \n              \"ğŸ¯\" not in line and \n              \"ç­–ç•¥:\" not in line and\n              not re.match(r'^https?://', line)):\n            if description:\n                description += \" \" + line\n            else:\n                description = line\n    \n    # Extract fingerprint/variants from description using variant pattern\n    variant_match = re.search(r'ï¼ˆå˜ä½“ï¼š([^ï¼‰]+)ï¼‰', description)\n    if variant_match:\n        fingerprint = variant_match.group(1).strip()\n    \n    # Clean up description by removing markdown formatting\n    if description:\n        description = re.sub(r'\\*\\*([^*]+)\\*\\*', r'\\1', description)  # Remove **bold**\n        description = re.sub(r'\\*([^*]+)\\*', r'\\1', description)     # Remove *italic*\n        description = re.sub(r'`([^`]+)`', r'\\1', description)         # Remove `code`\n        description = re.sub(r'\\s+', ' ', description).strip()\n    \n    # Add structured fields to the item\n    item.json.update({\n        \"article\": article,\n        \"link\": link,\n        \"severity\": severity,\n        \"bounty_relevance\": bounty_relevance,\n        \"description\": description,\n        \"fingerprint\": fingerprint\n    })\n\nreturn _input.all()"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1248,
        -704
      ],
      "id": "c2a2c4fe-57f2-4508-a234-9fa251dba9c4",
      "name": "FingerPrintæå–",
      "alwaysOutputData": true,
      "retryOnFail": true
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "picntNidQXWCksoH",
          "mode": "list",
          "cachedResultUrl": "/workflow/picntNidQXWCksoH",
          "cachedResultName": "èµ„äº§åŒ¹é…æ¨é€"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "CVE-ID": "null",
            "Title": "={{ $json.article }}",
            "Link": "={{ $json.link }}",
            "FingerPrint": "={{ $json.fingerprint }}",
            "Summary": "={{ $json.description }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "CVE-ID",
              "displayName": "CVE-ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "Link",
              "displayName": "Link",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "FingerPrint",
              "displayName": "FingerPrint",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "Summary",
              "displayName": "Summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        1792,
        -704
      ],
      "id": "efca801a-2b00-4f84-bc14-e42319a1b0bf",
      "name": "Call 'èµ„äº§åŒ¹é…æ¨é€'"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -432,
        -800
      ],
      "id": "cf0361fa-793a-4f7a-af39-1f4d94386e79",
      "name": "1 Day"
    }
  ],
  "pinData": {},
  "connections": {
    "Rssæ•°æ®æº": {
      "main": [
        [
          {
            "node": "RSS Read",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Read": {
      "main": [
        [
          {
            "node": "æ’å…¥Rss",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ’å…¥Rss": {
      "main": [
        [
          {
            "node": "æ ¹æ®æ•°æ®åº“Rowåˆ›å»ºæ—¶é—´å’Œè¿è¡Œæ—¶é—´æ¯”è¾ƒåˆ¤æ–­æ˜¯å¦ä¸ºæ–°æ–‡ç« ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ ¹æ®æ•°æ®åº“Rowåˆ›å»ºæ—¶é—´å’Œè¿è¡Œæ—¶é—´æ¯”è¾ƒåˆ¤æ–­æ˜¯å¦ä¸ºæ–°æ–‡ç« ": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "åˆ¤æ–­æ˜¯å¦ä¸ºé«˜ä»·å€¼æ–‡ç« ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ¤æ–­æ˜¯å¦ä¸ºé«˜ä»·å€¼æ–‡ç« ": {
      "main": [
        [
          {
            "node": "Discord",
            "type": "main",
            "index": 0
          },
          {
            "node": "FingerPrintæå–",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "FingerPrintæå–": {
      "main": [
        [
          {
            "node": "Call 'èµ„äº§åŒ¹é…æ¨é€'",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1 Day": {
      "main": [
        [
          {
            "node": "Rssæ•°æ®æº",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fb4314a5-47da-416a-9cb5-ede57e01a5e5",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "31c614437b5591b68cf6dff1df3a6d23fa686ecf4d5bd98eb68bb818a2a39857"
  },
  "id": "HGTggKwLODkeFQou",
  "tags": []
}